import{g as l,x as O,o as d,c as q,w as i,b as y,a as e,e as n,l as c,f as u,j as x,v as M,t as k,F as h,k as V,s as S}from"./app-mzutPM1G.js";import{_ as v}from"./ModalLayout-F9Gi2pmT.js";import{_ as B}from"./AdminLayout-DgQgNN4c.js";import"./ResponsiveNavLink-DzkTfNm9.js";import"./iconify-V65GgP_E.js";const N={class:"flex justify-center wrap"},E=e("label",{for:"texte",class:"block mb-2 text-sm font-medium text-white-900"},"Nom de role",-1),D={class:"flex"},F={class:"flex justify-around wrap mt-5"},L={class:"flex items-center mb-4 wrap"},P=["onUpdate:modelValue"],T={for:"default-checkbox",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},z={class:"flex justify-around"},G={class:"flex justify-center wrap border p-20"},H={class:"my-5"},I=e("label",{for:"texte",class:"block mb-2 text-sm font-medium text-white-900"},"name",-1),J={class:"flex"},K={class:"my-5"},Q=e("label",{for:"texte",class:"block mb-2 text-sm font-medium text-white-900"},"email",-1),W={class:"flex"},X={class:"my-5"},Y=e("label",{for:"texte",class:"block mb-2 text-sm font-medium text-white-900"},"password",-1),Z={class:"flex"},ee={class:"my-5"},re=e("label",{for:"texte",class:"block mb-2 text-sm font-medium text-white-900"},"Role",-1),ae={class:"flex"},te=["value"],se=e("div",{class:"my-5"},[e("div",{class:"flex"},[e("input",{height:"200",type:"submit",value:"enregistrer",name:"password",id:"password",placeholder:"aphrodite",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})])],-1),oe={class:"flex justify-around"},le={class:"flex justify-center wrap"},de={class:"my-5"},ie=e("label",{for:"texte",class:"block mb-2 text-sm font-medium text-white-900"},"name",-1),ne={class:"flex"},ue=e("div",{class:"my-5"},[e("div",{class:"flex"},[e("input",{height:"200",type:"submit",value:"enregistrer",name:"password",id:"password",placeholder:"aphrodite",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})])],-1),ce={class:"flex justify-around"},pe={class:"relative overflow-x-auto"},be={class:"flex justify-end my-5"},ge={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},me=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Name "),e("th",{scope:"col",class:"px-6 py-3"}," Action ")])],-1),fe={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ye={class:"px-6 py-4 flex"},xe=["onClick"],Ce={__name:"Role",props:{roles:{type:Array}},setup(w){const p=w,g=l(!1),b=l(!1),_=l(p.roles),s=l(),m=l(!1),j=o=>{m.value=!0,s.value=o},f=l({name:""}),t=l({name:"",email:"",password:"",role_id:""}),U=async()=>{await window.axios.post("/admin/createAdmin",t.value),alert("admin creer avec success")},$=async()=>{const o=await window.axios.post("/admin/createRole",f.value);_.value.push(o.data.role),alert("admin creer avec success"),b.value=!1},A=async()=>{let o=[];s.value.menus.forEach(r=>{r.is_inclus&&o.push(r.id)});const a={role_id:s.value.id,name:s.value.name,menus:o};await window.axios.post("/admin/updateRole",a),alert("menu modifier avec success")};return O(()=>{console.log(p==null?void 0:p.roles)}),(o,a)=>(d(),q(B,null,{default:i(()=>[y(v,{classes:"text-white  w-auto lg:w-[50%]",isOpen:m.value},{content:i(()=>[e("div",N,[e("div",null,[E,e("div",D,[n(e("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>s.value.name=r),type:"texte",name:"password",id:"password",placeholder:"aphrodite",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[c,s.value.name]])])])]),e("div",F,[(d(!0),u(h,null,x(s.value.menus,(r,C)=>(d(),u("div",L,[n(e("input",{"onUpdate:modelValue":R=>r.is_inclus=R,id:"default-checkbox",type:"checkbox",value:"",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,P),[[M,r.is_inclus]]),e("label",T,k(r.name),1)]))),256))])]),footer:i(()=>[e("div",z,[e("button",{class:"px-3 py-2 rounded-lg bg-blue-400",onClick:a[1]||(a[1]=r=>m.value=!1)},"fermer"),e("button",{class:"px-3 py-2 rounded-lg bg-blue-400",onClick:A},"Enregister")])]),_:1},8,["isOpen"]),y(v,{classes:"text-white w-auto lg:w-[50%]",isOpen:g.value},{content:i(()=>[e("div",G,[e("form",{onSubmit:V(U,["prevent"]),action:""},[e("div",H,[I,e("div",J,[n(e("input",{"onUpdate:modelValue":a[2]||(a[2]=r=>t.value.name=r),height:"200",type:"texte",name:"password",id:"password",placeholder:"aphrodite",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[c,t.value.name]])])]),e("div",K,[Q,e("div",W,[n(e("input",{"onUpdate:modelValue":a[3]||(a[3]=r=>t.value.email=r),height:"200",type:"email",name:"password",id:"password",placeholder:"aphrodite",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[c,t.value.email]])])]),e("div",X,[Y,e("div",Z,[n(e("input",{"onUpdate:modelValue":a[4]||(a[4]=r=>t.value.password=r),height:"200",type:"password",name:"password",id:"password",placeholder:"aphrodite",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[c,t.value.password]])])]),e("div",ee,[re,e("div",ae,[n(e("select",{"onUpdate:modelValue":a[5]||(a[5]=r=>t.value.role_id=r),id:"countries",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(d(!0),u(h,null,x(w.roles,r=>(d(),u("option",{value:r.id},k(r.name),9,te))),256))],512),[[S,t.value.role_id]])])]),se],32)])]),footer:i(()=>[e("div",oe,[e("button",{class:"px-3 py-2 rounded-lg bg-blue-400",onClick:a[6]||(a[6]=r=>g.value=!1)},"fermer")])]),_:1},8,["isOpen"]),y(v,{classes:"text-white w-auto lg:w-[50%]",isOpen:b.value},{content:i(()=>[e("div",le,[e("form",{onSubmit:V($,["prevent"]),action:""},[e("div",de,[ie,e("div",ne,[n(e("input",{"onUpdate:modelValue":a[7]||(a[7]=r=>f.value.name=r),height:"200",type:"texte",name:"password",id:"password",placeholder:"aphrodite",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[c,f.value.name]])])]),ue],32)])]),footer:i(()=>[e("div",ce,[e("button",{class:"px-3 py-2 rounded-lg bg-blue-400",onClick:a[8]||(a[8]=r=>b.value=!1)},"fermer")])]),_:1},8,["isOpen"]),e("div",pe,[e("div",be,[e("button",{onClick:a[9]||(a[9]=r=>g.value=!0),class:"px-2 border mr-2"},"Creer Admin"),e("button",{onClick:a[10]||(a[10]=r=>b.value=!0),class:"px-2 border"},"Creer Role")]),e("table",ge,[me,e("tbody",null,[(d(!0),u(h,null,x(_.value,(r,C)=>(d(),u("tr",{key:C,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[e("th",fe,k(r.name),1),e("td",ye,[e("div",{onClick:R=>j(r),class:"border w-25 mx-2 px-3 rounded cursor-pointer"},"voir ",8,xe)])]))),128))])])])]),_:1}))}};export{Ce as default};
