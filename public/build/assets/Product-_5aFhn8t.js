import{g as m,T as P,o as d,c as B,w as g,a as e,t as f,b as w,k as D,e as n,l as x,u as s,f as l,h as N,v as O,s as C,j as $,F as V,i as S}from"./app-263AeSRm.js";import{_ as U}from"./ModalLayout-BVzndHUv.js";import{_ as T}from"./AdminLayout-C3RcNJo6.js";import"./ResponsiveNavLink-CtuvInFy.js";import"./iconify-BNOEeQ8M.js";const q={class:"flex justify-end mb-5"},E={class:"flex justify-between"},L={class:"w-[50%]"},R=["src"],I={class:"w-[50%]"},Y={class:"flex justify-end"},z={class:"bg-black mb-5"},G={class:"lg:py-0"},H={class:"bg-black rounded-lg shadow border md:mt-0"},J={class:"w-full p-6 sm:p-8"},K=e("h1",{class:"text-xl font-bold leading-tight tracking-tight md:text-2xl text-white-900"}," Imorter votre produit ",-1),Q={class:"flex"},W={class:"w-1/2 mx-2"},X={class:"my-2"},Z=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-white-900"},"nom",-1),ee={class:"my-2"},re=e("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900"},"description",-1),te={class:"flex items-center justify-between"},oe={key:0,class:""},se=e("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900"},"prix €",-1),ae={class:"flex items-start"},de={class:"flex items-center h-5"},le=["checked"],ie=e("div",{class:"ml-3 text-sm"},[e("label",{for:"remember",class:"text-white-500 dark:text-gray-300"},"gratuit ?")],-1),ne={class:"items-start mt-5"},ce=e("div",null,[e("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900"},"Choisir categorie")],-1),ue=e("option",{selected:""},"Choisir categorie",-1),me=["value"],pe={class:"items-start mt-5"},be=e("div",null,[e("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900"},"Model de media")],-1),ge=e("option",{value:"post"},"Post",-1),fe=e("option",{value:"demande"},"Demande client",-1),ye=[ge,fe],he={class:"w-1/2"},xe=e("div",{class:"border w-full h-[150px] my-1"},null,-1),_e=e("button",{type:"submit",class:"border hover:bg-white hover:text-black w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"Enregistrer",-1),ve={class:"flex flex-wrap"},ke=["onClick"],we=["src"],Ce={key:1,class:"w-[200px] h-[200px]",controls:""},$e=["src"],Me={__name:"Product",props:{products:Array,categories:Array},setup(F){const _=F,c=m(!1),v=m(""),o=P({name:"",description:"",base64:"",price:10,is_free:!0,categorie:"",model:"post"}),u=m(null),p=m(!1),y=m(_.products),j=()=>{o.transform(a=>({...a})).post(route("admin.store.product"),{onFinish:()=>o.reset("password")})},A=a=>{var i;const r=(i=a.target.files)==null?void 0:i[0];if(r){const b=new FileReader;b.onload=h=>{var k;o.base64=(k=h.target)==null?void 0:k.result},b.onerror=h=>{console.error("Error: ",h)},b.readAsDataURL(r)}},M=async a=>{await window.axios.post("/admin/deleteProduct",{product_id:a.id}),y.value=y.value.filter(t=>t.id!==a.id),p.value=!1};return(a,t)=>(d(),B(T,null,{default:g(()=>[e("div",q,[e("div",{onClick:t[0]||(t[0]=r=>c.value=!c.value),class:"cursor-pointer border px-5 rounded hover:text-black hover:bg-white"},f(c.value?"fermer":"uploader"),1)]),w(U,{classes:"bg-red-400 text-white w-[50%] ",isOpen:!!p.value},{content:g(()=>[e("div",E,[e("div",L,[e("img",{src:`/storage/data/image/${u.value.name}`,alt:"",srcset:""},null,8,R)]),e("div",I,[e("div",null," prix : "+f(u.value.price/100)+" € ",1),e("div",null," model : "+f(u.value.modele),1)])])]),footer:g(()=>[e("div",Y,[e("button",{onClick:t[1]||(t[1]=r=>M(u.value)),class:"px-3 py-2 rounded-lg bg-blue-400 mr-5"},"Supprimer"),e("button",{class:"px-3 py-2 rounded-lg bg-blue-400",onClick:t[2]||(t[2]=r=>p.value=!1)},"fermer")])]),_:1},8,["isOpen"]),w(U,{classes:"w-[50%] text-white ",isOpen:c.value},{content:g(()=>[e("section",z,[e("div",G,[e("div",H,[e("div",J,[K,e("form",{onSubmit:D(j,["prevent"]),class:"space-y-4 md:space-y-6",action:"#"},[e("div",Q,[e("div",W,[e("div",X,[Z,n(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>s(o).name=r),type:"texte",name:"name",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"nom de photo",required:""},null,512),[[x,s(o).name]])]),e("div",ee,[re,n(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=r=>s(o).description=r),type:"texte",name:"slug",id:"slug",placeholder:"votre-slug-lug",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[x,s(o).description]])]),e("div",te,[s(o).is_free?N("",!0):(d(),l("div",oe,[se,n(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>s(o).price=r),type:"texte",name:"slug",id:"slug",placeholder:"votre-slug-lug",class:"p-2.5 bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[x,s(o).price]])])),e("div",ae,[e("div",de,[n(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>s(o).is_free=r),checked:a.remember,id:"remember","aria-describedby":"remember",type:"checkbox",class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800"},null,8,le),[[O,s(o).is_free]])]),ie])]),e("div",ne,[ce,e("div",null,[n(e("select",{"onUpdate:modelValue":t[7]||(t[7]=r=>s(o).categorie=r),id:"countries",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[ue,(d(!0),l(V,null,$(_.categories,(r,i)=>(d(),l("option",{key:i,value:r.id},f(r.name),9,me))),128))],512),[[C,s(o).categorie]])])]),e("div",pe,[be,e("div",null,[n(e("select",{"onUpdate:modelValue":t[8]||(t[8]=r=>s(o).model=r),id:"countries",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},ye,512),[[C,s(o).model]])])])]),e("div",he,[xe,e("button",{onClick:t[9]||(t[9]=r=>v.value.click()),type:"button",class:"border px-1 rounded"},"uploder"),e("input",{onChange:A,ref_key:"upload",ref:v,class:"border px-1 hidden rounded",type:"file"},null,544)])]),_e,e("button",{onClick:t[10]||(t[10]=r=>c.value=!1),type:"button",class:"border hover:bg-white hover:text-black w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"Fermer")],32)])])])])]),_:1},8,["isOpen"]),e("div",ve,[(d(!0),l(V,null,$(y.value,(r,i)=>(d(),l("div",{key:i,onClick:b=>{u.value=r,p.value=!0},class:"cursor-pointer border mx-1 my-5 w-[200px] h-[200px] bg-red-500 border-none"},[r.extentionType=="image"?(d(),l("img",{key:0,class:"w-[200px] h-[200px]",src:`/storage/data/image/${r.name}`,alt:"",srcset:""},null,8,we)):(d(),l("video",Ce,[e("source",{src:`/storage/data/image/${r.name}`,type:"video/mp4"},null,8,$e),S(" Your browser does not support the video tag. ")]))],8,ke))),128))])]),_:1}))}};export{Me as default};
