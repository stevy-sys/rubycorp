import{g as u,x as $,o as a,c as A,w as l,b as f,a as e,e as d,l as p,f as i,j as y,v as R,t as x,F as k,k as U,s as O}from"./app-263AeSRm.js";import{_ as h}from"./ModalLayout-BVzndHUv.js";import{_ as M}from"./AdminLayout-C3RcNJo6.js";import"./ResponsiveNavLink-CtuvInFy.js";import"./iconify-BNOEeQ8M.js";const q={class:"flex justify-center wrap"},B=e("label",{for:"texte",class:"block mb-2 text-sm font-medium text-white-900"},"Nom de role",-1),N={class:"flex"},S={class:"flex justify-around wrap mt-5"},E={class:"flex items-center mb-4 wrap"},D=["onUpdate:modelValue"],F={for:"default-checkbox",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},L={class:"flex justify-around"},P={class:"flex justify-center wrap border p-20"},T={class:"my-5"},z=e("label",{for:"texte",class:"block mb-2 text-sm font-medium text-white-900"},"name",-1),G={class:"flex"},H={class:"my-5"},I=e("label",{for:"texte",class:"block mb-2 text-sm font-medium text-white-900"},"email",-1),J={class:"flex"},K={class:"my-5"},Q=e("label",{for:"texte",class:"block mb-2 text-sm font-medium text-white-900"},"password",-1),W={class:"flex"},X={class:"my-5"},Y=e("label",{for:"texte",class:"block mb-2 text-sm font-medium text-white-900"},"Role",-1),Z={class:"flex"},ee=["value"],re=e("div",{class:"my-5"},[e("div",{class:"flex"},[e("input",{height:"200",type:"submit",value:"enregistrer",name:"password",id:"password",placeholder:"aphrodite",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})])],-1),te={class:"flex justify-around"},se=e("div",{class:"flex justify-center wrap"},null,-1),oe={class:"flex justify-around"},ae={class:"relative overflow-x-auto"},le={class:"flex justify-end my-5"},de={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},ie=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Name "),e("th",{scope:"col",class:"px-6 py-3"}," Action ")])],-1),ne={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ue={class:"px-6 py-4 flex"},ce=["onClick"],ye={__name:"Role",props:{roles:{type:Array}},setup(v){const c=v,b=u(!1),g=u(!1),o=u(),m=u(!1),C=n=>{m.value=!0,o.value=n},s=u({name:"",email:"",password:"",role_id:""}),j=async()=>{await window.axios.post("/admin/createAdmin",s.value),alert("admin creer avec success")},V=async()=>{let n=[];o.value.menus.forEach(r=>{r.is_inclus&&n.push(r.id)});const t={role_id:o.value.id,name:o.value.name,menus:n};await window.axios.post("/admin/updateRole",t),alert("menu modifier avec success")};return $(()=>{console.log(c==null?void 0:c.roles)}),(n,t)=>(a(),A(M,null,{default:l(()=>[f(h,{classes:"text-white w-[50%]",isOpen:m.value},{content:l(()=>[e("div",q,[e("div",null,[B,e("div",N,[d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>o.value.name=r),type:"texte",name:"password",id:"password",placeholder:"aphrodite",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[p,o.value.name]])])])]),e("div",S,[(a(!0),i(k,null,y(o.value.menus,(r,_)=>(a(),i("div",E,[d(e("input",{"onUpdate:modelValue":w=>r.is_inclus=w,id:"default-checkbox",type:"checkbox",value:"",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,D),[[R,r.is_inclus]]),e("label",F,x(r.name),1)]))),256))])]),footer:l(()=>[e("div",L,[e("button",{class:"px-3 py-2 rounded-lg bg-blue-400",onClick:t[1]||(t[1]=r=>m.value=!1)},"fermer"),e("button",{class:"px-3 py-2 rounded-lg bg-blue-400",onClick:V},"Enregister")])]),_:1},8,["isOpen"]),f(h,{classes:"text-white w-[50%]",isOpen:b.value},{content:l(()=>[e("div",P,[e("form",{onSubmit:U(j,["prevent"]),action:""},[e("div",T,[z,e("div",G,[d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>s.value.name=r),height:"200",type:"texte",name:"password",id:"password",placeholder:"aphrodite",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[p,s.value.name]])])]),e("div",H,[I,e("div",J,[d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>s.value.email=r),height:"200",type:"email",name:"password",id:"password",placeholder:"aphrodite",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[p,s.value.email]])])]),e("div",K,[Q,e("div",W,[d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=r=>s.value.password=r),height:"200",type:"password",name:"password",id:"password",placeholder:"aphrodite",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[p,s.value.password]])])]),e("div",X,[Y,e("div",Z,[d(e("select",{"onUpdate:modelValue":t[5]||(t[5]=r=>s.value.role_id=r),id:"countries",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(a(!0),i(k,null,y(v.roles,r=>(a(),i("option",{value:r.id},x(r.name),9,ee))),256))],512),[[O,s.value.role_id]])])]),re],32)])]),footer:l(()=>[e("div",te,[e("button",{class:"px-3 py-2 rounded-lg bg-blue-400",onClick:t[6]||(t[6]=r=>b.value=!1)},"fermer")])]),_:1},8,["isOpen"]),f(h,{classes:"text-white w-[50%]",isOpen:g.value},{content:l(()=>[se]),footer:l(()=>[e("div",oe,[e("button",{class:"px-3 py-2 rounded-lg bg-blue-400",onClick:t[7]||(t[7]=r=>g.value=!1)},"fermer")])]),_:1},8,["isOpen"]),e("div",ae,[e("div",le,[e("button",{onClick:t[8]||(t[8]=r=>b.value=!0),class:"px-2 border mr-2"},"Creer Admin"),e("button",{onClick:t[9]||(t[9]=r=>g.value=!0),class:"px-2 border"},"Creer Role")]),e("table",de,[ie,e("tbody",null,[(a(!0),i(k,null,y(c.roles,(r,_)=>(a(),i("tr",{key:_,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[e("th",ne,x(r.name),1),e("td",ue,[e("div",{onClick:w=>C(r),class:"border w-25 mx-2 px-3 rounded cursor-pointer"},"voir ",8,ce)])]))),128))])])])]),_:1}))}};export{ye as default};
