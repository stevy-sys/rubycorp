import{g as m,T as C,o as a,c as U,w as $,a as e,t as g,f as d,k as b,e as h,l as x,u as f,h as y,j as B,F as M}from"./app-CAhNJg-g.js";import{_ as S}from"./AdminLayout-B0GRKAVH.js";import"./ResponsiveNavLink-BC1ww8h2.js";import"./iconify-DrmEc_uq.js";const V={class:"flex justify-end mb-5"},j={key:0},E={class:"bg-black mb-5"},F={class:"lg:py-0"},q={class:"bg-black rounded-lg shadow border md:mt-0"},A={class:"w-full p-6 sm:p-8"},D=e("h1",{class:"text-xl font-bold leading-tight tracking-tight md:text-2xl text-white-900"}," Enregistrer une categorie ",-1),N={class:"flex"},T={class:"w-1/2 mx-2"},z={class:"my-2"},L=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-white-900"},"nom",-1),G=e("button",{type:"submit",class:"border hover:bg-white hover:text-black w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"Enregistrer",-1),H={key:1},I={class:"bg-black mb-5"},J={class:"lg:py-0"},K={class:"bg-black rounded-lg shadow border md:mt-0"},O={class:"w-full p-6 sm:p-8"},P=e("h1",{class:"text-xl font-bold leading-tight tracking-tight md:text-2xl text-white-900"}," Modifier le categorie ",-1),Q={class:"flex"},R={class:"w-1/2 mx-2"},W={class:"my-2"},X=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-white-900"},"nom",-1),Y=e("button",{type:"submit",class:"border hover:bg-white hover:text-black w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"Modifier",-1),Z={class:"relative overflow-x-auto"},ee={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},te=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," categorie "),e("th",{scope:"col",class:"px-6 py-3"}," action ")])],-1),oe={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},se={class:"px-6 py-4 flex"},re=["onClick"],ae=["onClick"],ce={__name:"Categorie",props:{categories:Array},setup(_){const v=_,l=m(!1),s=m({id:"",name:""}),i=C({name:""}),n=m(!1),p=async(r,t)=>{if(console.log(t.name),r=="update")s.value.id=t.id,s.value.name=t.name,l.value=!0;else if(confirm("voulez vous supprimer cette vategorie")){let c={action:"delete",id:t.id};const u=await window.axios.post("/admin/update-categorie",c);window.location.reload(),console.log(u)}},w=async()=>{let r={action:"update",id:s.value.id,name:s.value.name};await window.axios.post("/admin/update-categorie",r),window.location.reload()},k=()=>{i.transform(r=>({...r})).post(route("admin.categorie.store"),{onFinish:()=>i.reset()})};return(r,t)=>(a(),U(S,null,{default:$(()=>[e("div",null,[e("div",V,[e("div",{onClick:t[0]||(t[0]=o=>n.value=!n.value),class:"cursor-pointer border px-5 rounded hover:text-black hover:bg-white"},g(n.value?"fermer":"ajouter"),1)]),n.value?(a(),d("div",j,[e("section",E,[e("div",F,[e("div",q,[e("div",A,[D,e("form",{onSubmit:b(k,["prevent"]),class:"space-y-4 md:space-y-6",action:"#"},[e("div",N,[e("div",T,[e("div",z,[L,h(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>f(i).name=o),type:"texte",name:"name",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"nom de photo",required:""},null,512),[[x,f(i).name]])])])]),G],32)])])])])])):y("",!0),l.value?(a(),d("div",H,[e("section",I,[e("div",J,[e("div",K,[e("div",O,[P,e("form",{onSubmit:b(w,["prevent"]),class:"space-y-4 md:space-y-6",action:"#"},[e("div",Q,[e("div",R,[e("div",W,[X,h(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.value.name=o),type:"texte",name:"name",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"nom de photo",required:""},null,512),[[x,s.value.name]])])])]),Y,e("button",{type:"button",onClick:t[3]||(t[3]=o=>l.value=!1),class:"border hover:bg-white hover:text-black w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"Annuler")],32)])])])])])):y("",!0),e("div",Z,[e("table",ee,[te,e("tbody",null,[(a(!0),d(M,null,B(v.categories,(o,c)=>(a(),d("tr",{key:c,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[e("th",oe,g(o.name),1),e("td",se,[e("div",{onClick:u=>p("update",o),class:"border w-25 mx-2 px-3 rounded cursor-pointer"},"modifier",8,re),e("div",{onClick:u=>p("delete",o),class:"border w-25 mx-2 px-3 rounded cursor-pointer"},"Supprimer",8,ae)])]))),128))])])])])]),_:1}))}};export{ce as default};
