import{g as m,T as P,o as a,c as B,w as b,a as e,t as f,b as w,k as D,e as n,l as x,u as s,f as d,h as N,v as O,s as C,j as $,F as V,i as S}from"./app-FYJHkXi4.js";import{_ as U}from"./ModalLayout-BtkAjsv2.js";import{_ as T}from"./AdminLayout-CaFy7Dm0.js";import"./ResponsiveNavLink-C5Yh5uwe.js";import"./iconify-BVFlv_Pr.js";const q={class:"flex justify-end mb-5"},E={class:"flex justify-between"},L={class:"w-[50%]"},R=["src"],I={class:"w-[50%]"},Y={class:"flex justify-end"},z={class:"bg-black mb-5"},G={class:"lg:py-0"},H={class:"bg-black rounded-lg shadow border md:mt-0"},J={class:"w-full p-6 sm:p-8"},K=e("h1",{class:"text-xl font-bold leading-tight tracking-tight md:text-2xl text-white-900"}," Imorter votre produit ",-1),Q={class:"lg:flex justify-center"},W={class:"lg:w-1/2 lg:mx-2 mx-auto"},X={class:"my-2"},Z=e("label",{for:"email",class:"block mb-2 text-sm font-medium text-white-900"},"nom",-1),ee={class:"my-2"},te=e("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900"},"description",-1),re={class:"xl:flex items-center justify-between"},oe={key:0,class:""},se=e("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900"},"prix €",-1),le={class:"flex items-start"},ae={class:"flex mt-1 items-center h-5"},de=["checked"],ie=e("div",{class:"ml-3 mt-1 text-sm"},[e("label",{for:"remember",class:"text-white-500 dark:text-gray-300"},"gratuit ?")],-1),ne={class:"items-start mt-5"},ce=e("div",null,[e("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900"},"Choisir categorie")],-1),ue=e("option",{selected:""},"Choisir categorie",-1),me=["value"],ge={class:"items-start mt-5"},pe=e("div",null,[e("label",{for:"password",class:"block mb-2 text-sm font-medium text-white-900"},"Model de media")],-1),be=e("option",{value:"post"},"Post",-1),fe=e("option",{value:"demande"},"Demande client",-1),ye=[be,fe],he={class:"lg:w-1/2"},xe=e("div",{class:"border w-full h-[150px] my-1"},null,-1),_e=e("button",{type:"submit",class:"border hover:bg-white hover:text-black w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"Enregistrer",-1),ve={class:"flex flex-wrap lg:justify-center sm:justify-center"},ke=["onClick"],we=["src"],Ce={key:1,class:"w-[200px] h-[200px]",controls:""},$e=["src"],Me={__name:"Product",props:{products:Array,categories:Array},setup(j){const _=j,c=m(!1),v=m(""),o=P({name:"",description:"",base64:"",price:10,is_free:!0,categorie:"",model:"post"}),u=m(null),g=m(!1),y=m(_.products),F=()=>{o.transform(l=>({...l})).post(route("admin.store.product"),{onFinish:()=>o.reset("password")})},A=l=>{var i;const t=(i=l.target.files)==null?void 0:i[0];if(t){const p=new FileReader;p.onload=h=>{var k;o.base64=(k=h.target)==null?void 0:k.result},p.onerror=h=>{console.error("Error: ",h)},p.readAsDataURL(t)}},M=async l=>{await window.axios.post("/admin/deleteProduct",{product_id:l.id}),y.value=y.value.filter(r=>r.id!==l.id),g.value=!1};return(l,r)=>(a(),B(T,null,{default:b(()=>[e("div",q,[e("div",{onClick:r[0]||(r[0]=t=>c.value=!c.value),class:"cursor-pointer border px-5 rounded hover:text-black hover:bg-white"},f(c.value?"fermer":"uploader"),1)]),w(U,{classes:"bg-red-400 text-white w-[50%] ",isOpen:!!g.value},{content:b(()=>[e("div",E,[e("div",L,[e("img",{src:`/storage/data/image/${u.value.name}`,alt:"",srcset:""},null,8,R)]),e("div",I,[e("div",null," prix : "+f(u.value.price/100)+" € ",1),e("div",null," model : "+f(u.value.modele),1)])])]),footer:b(()=>[e("div",Y,[e("button",{onClick:r[1]||(r[1]=t=>M(u.value)),class:"px-3 py-2 rounded-lg bg-blue-400 mr-5"},"Supprimer"),e("button",{class:"px-3 py-2 rounded-lg bg-blue-400",onClick:r[2]||(r[2]=t=>g.value=!1)},"fermer")])]),_:1},8,["isOpen"]),w(U,{classes:"w-[50%] text-white ",isOpen:c.value},{content:b(()=>[e("section",z,[e("div",G,[e("div",H,[e("div",J,[K,e("form",{onSubmit:D(F,["prevent"]),class:"space-y-4 md:space-y-6",action:"#"},[e("div",Q,[e("div",W,[e("div",X,[Z,n(e("input",{"onUpdate:modelValue":r[3]||(r[3]=t=>s(o).name=t),type:"texte",name:"name",id:"name",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"nom de photo",required:""},null,512),[[x,s(o).name]])]),e("div",ee,[te,n(e("textarea",{"onUpdate:modelValue":r[4]||(r[4]=t=>s(o).description=t),type:"texte",name:"slug",id:"slug",placeholder:"votre-slug-lug",class:"bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[x,s(o).description]])]),e("div",re,[s(o).is_free?N("",!0):(a(),d("div",oe,[se,n(e("input",{"onUpdate:modelValue":r[5]||(r[5]=t=>s(o).price=t),type:"texte",name:"slug",id:"slug",placeholder:"votre-slug-lug",class:"p-2.5 bg-gray-50 border border-gray-300 text-gray-900 rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[x,s(o).price]])])),e("div",le,[e("div",ae,[n(e("input",{"onUpdate:modelValue":r[6]||(r[6]=t=>s(o).is_free=t),checked:l.remember,id:"remember","aria-describedby":"remember",type:"checkbox",class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300 dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600 dark:ring-offset-gray-800"},null,8,de),[[O,s(o).is_free]])]),ie])]),e("div",ne,[ce,e("div",null,[n(e("select",{"onUpdate:modelValue":r[7]||(r[7]=t=>s(o).categorie=t),id:"countries",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[ue,(a(!0),d(V,null,$(_.categories,(t,i)=>(a(),d("option",{key:i,value:t.id},f(t.name),9,me))),128))],512),[[C,s(o).categorie]])])]),e("div",ge,[pe,e("div",null,[n(e("select",{"onUpdate:modelValue":r[8]||(r[8]=t=>s(o).model=t),id:"countries",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},ye,512),[[C,s(o).model]])])])]),e("div",he,[xe,e("button",{onClick:r[9]||(r[9]=t=>v.value.click()),type:"button",class:"border px-1 rounded"},"uploder"),e("input",{onChange:A,ref_key:"upload",ref:v,class:"border px-1 hidden rounded",type:"file"},null,544)])]),_e,e("button",{onClick:r[10]||(r[10]=t=>c.value=!1),type:"button",class:"border hover:bg-white hover:text-black w-full text-white bg-primary-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"},"Fermer")],32)])])])])]),_:1},8,["isOpen"]),e("div",ve,[(a(!0),d(V,null,$(y.value,(t,i)=>(a(),d("div",{key:i,onClick:p=>{u.value=t,g.value=!0},class:"cursor-pointer border mx-1 my-5 w-[200px] h-[200px] bg-red-500 border-none"},[t.extentionType=="image"?(a(),d("img",{key:0,class:"w-[200px] h-[200px]",src:`/storage/data/image/${t.name}`,alt:"",srcset:""},null,8,we)):(a(),d("video",Ce,[e("source",{src:`/storage/data/image/${t.name}`,type:"video/mp4"},null,8,$e),S(" Your browser does not support the video tag. ")]))],8,ke))),128))])]),_:1}))}};export{Me as default};
