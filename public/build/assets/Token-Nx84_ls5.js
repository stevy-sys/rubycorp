import{Q as k,g as s,x as _,o as h,c as y,w as t,b as p,a as e,t as n,e as g,l as j}from"./app-z4L3ct2k.js";import{_ as v}from"./ModalLayout-CU0s_Xa3.js";import{_ as T}from"./AppLayout-Bw0GtzyK.js";import"./ResponsiveNavLink-CnflJbBM.js";import"./iconify-Cn61QZuq.js";const V={class:"border rounded-lg shadow-lg px-6 py-8 max-w-md mx-auto mt-8"},C={class:"flex justify-end"},M={class:"border rounded-lg shadow-lg px-6 py-8 max-w-md mx-auto mt-8"},O={class:"flex justify-end"},$={class:""},z={class:"mb-5 bg-black rounded-xl mx-auto border p-10 shadow-sm"},A={class:"bg-black rounded-xl mx-auto border p-10 shadow-sm"},B=e("div",{class:"my-5"}," Prix : 500€ ",-1),U={__name:"Token",props:{user:Object,newToken:Number},setup(i){const x=k(),f=i,a=s(""),m=s(x.props.config.price_token),l=s(),r=s(!1),d=s(!1),w=()=>{l.value=a.value*m.value,r.value=!0},b=async()=>{const u=await window.axios.post("/create-checkout-session-token",{amount:l.value,token:a.value});window.location.href=await u.data.url};return _(()=>{f.newToken&&(d.value=!0)}),(u,o)=>(h(),y(T,{showSidebar:!0},{default:t(()=>[p(v,{classes:" w-auto lg:w-[50%] text-white ",isOpen:r.value},{content:t(()=>[e("div",V," Voulez vous acheter un token a "+n(l.value)+" € ? ",1)]),footer:t(()=>[e("div",C,[e("button",{class:"border px-3 mx-1 flex justify-end",onClick:o[0]||(o[0]=c=>r.value=!1)},"fermer"),e("button",{class:"border px-3 mx-1 flex justify-end",onClick:b},"Acheter")])]),_:1},8,["isOpen"]),p(v,{classes:" w-auto lg:w-[50%] text-white ",isOpen:d.value},{content:t(()=>[e("div",M," Payment avec success . Vous avez maintenant "+n(i.newToken)+" token ",1)]),footer:t(()=>[e("div",O,[e("button",{class:"border px-3 mx-1 flex justify-end",onClick:o[1]||(o[1]=c=>d.value=!1)},"fermer")])]),_:1},8,["isOpen"]),e("div",$,[e("div",z," Vous avez "+n(u.$attrs.auth.user.token)+" token en ce moment ",1),e("div",A," Achtez un token 1token = "+n(m.value)+"€ ",1),B,g(e("input",{"onUpdate:modelValue":o[2]||(o[2]=c=>a.value=c),class:"my-5 border-none text-black w-full rounded-2xl pr-10 pl-4 py-2",type:"number"},null,512),[[j,a.value]]),e("div",{class:"my-5"},[e("button",{onClick:w,class:"border px-3 bg-red-400 rounded"},"Acheter")])])]),_:1}))}};export{U as default};
